# Generated by Django 5.2.9 on 2025-12-17 03:35

import django.db.models.deletion
import uuid
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('core', '0008_file_extension'),
        ('custom_authentication', '0001_initial'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='ComplianceRun',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('compliance_framework', models.CharField(choices=[('gdpr', 'GDPR (General Data Protection Regulation)'), ('ccpa', 'CCPA (California Consumer Privacy Act)'), ('hipaa', 'HIPAA (Health Insurance Portability and Accountability Act)'), ('sox', 'SOX (Sarbanes-Oxley Act)'), ('pci_dss', 'PCI DSS (Payment Card Industry Data Security Standard)'), ('iso27001', 'ISO 27001 (Information Security Management)'), ('nist', 'NIST Cybersecurity Framework'), ('custom', 'Custom Compliance Framework')], max_length=100)),
                ('organization_name', models.CharField(help_text='Name of the organization being assessed', max_length=255)),
                ('assessment_scope', models.TextField(help_text='Scope of the compliance assessment')),
                ('applicable_regulations', models.JSONField(default=list, help_text='List of applicable regulations')),
                ('jurisdiction', models.CharField(blank=True, help_text='Legal jurisdiction', max_length=100)),
                ('assessment_start_date', models.DateField(help_text='Start date of assessment period')),
                ('assessment_end_date', models.DateField(help_text='End date of assessment period')),
                ('compliance_officer', models.CharField(blank=True, help_text='Primary compliance officer', max_length=255)),
                ('legal_counsel', models.CharField(blank=True, help_text='Legal counsel contact', max_length=255)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('client', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='rc_compliance_runs', to='custom_authentication.client')),
                ('run', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='compliance_analysis', to='core.run')),
            ],
            options={
                'db_table': 'regulatory_compliance_run',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='DataInventory',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('activity_name', models.CharField(help_text='Name of the data processing activity', max_length=255)),
                ('activity_description', models.TextField(help_text='Description of the processing activity')),
                ('data_categories', models.JSONField(default=list, help_text='Categories of personal data processed')),
                ('special_categories', models.JSONField(default=list, help_text='Special categories of personal data')),
                ('data_subject_categories', models.JSONField(default=list, help_text='Categories of data subjects')),
                ('legal_basis', models.CharField(choices=[('consent', 'Consent'), ('contract', 'Performance of Contract'), ('legal_obligation', 'Legal Obligation'), ('vital_interests', 'Vital Interests'), ('public_task', 'Public Task'), ('legitimate_interests', 'Legitimate Interests')], max_length=100)),
                ('processing_purposes', models.JSONField(default=list, help_text='Purposes of processing')),
                ('data_sources', models.JSONField(default=list, help_text='Sources of personal data')),
                ('data_recipients', models.JSONField(default=list, help_text='Recipients of personal data')),
                ('international_transfers', models.BooleanField(default=False, help_text='Whether data is transferred internationally')),
                ('transfer_countries', models.JSONField(default=list, help_text='Countries to which data is transferred')),
                ('transfer_safeguards', models.JSONField(default=list, help_text='Safeguards for international transfers')),
                ('retention_period', models.CharField(blank=True, help_text='Data retention period', max_length=255)),
                ('retention_criteria', models.TextField(blank=True, help_text='Criteria for determining retention period')),
                ('technical_measures', models.JSONField(default=list, help_text='Technical security measures')),
                ('organizational_measures', models.JSONField(default=list, help_text='Organizational security measures')),
                ('dpia_required', models.BooleanField(default=False, help_text='Whether DPIA is required')),
                ('dpia_completed', models.BooleanField(default=False, help_text='Whether DPIA has been completed')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('client', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='rc_data_inventories', to='custom_authentication.client')),
                ('compliance_run', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='data_inventories', to='regulatory_compliance.compliancerun')),
                ('dpia_document', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='dpia_inventories', to='core.file')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='data_inventories', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'regulatory_compliance_data_inventory',
                'ordering': ['activity_name'],
            },
        ),
        migrations.CreateModel(
            name='DSARRequest',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('request_id', models.CharField(help_text='Unique DSAR request identifier', max_length=100, unique=True)),
                ('request_type', models.CharField(choices=[('access', 'Right of Access'), ('rectification', 'Right of Rectification'), ('erasure', 'Right of Erasure (Right to be Forgotten)'), ('portability', 'Right to Data Portability'), ('restriction', 'Right to Restriction of Processing'), ('objection', 'Right to Object'), ('automated_decision', 'Rights Related to Automated Decision Making')], max_length=50)),
                ('data_subject_name', models.CharField(help_text='Name of the data subject', max_length=255)),
                ('data_subject_email', models.EmailField(help_text='Email of the data subject', max_length=254)),
                ('data_subject_id', models.CharField(blank=True, help_text='Internal ID for data subject', max_length=255)),
                ('request_date', models.DateTimeField(help_text='Date when request was received')),
                ('request_description', models.TextField(help_text='Description of the request')),
                ('verification_status', models.CharField(choices=[('pending', 'Pending Verification'), ('verified', 'Verified'), ('rejected', 'Verification Rejected')], default='pending', max_length=50)),
                ('status', models.CharField(choices=[('received', 'Received'), ('in_progress', 'In Progress'), ('data_collection', 'Data Collection'), ('review', 'Under Review'), ('completed', 'Completed'), ('rejected', 'Rejected'), ('extended', 'Extended (Additional Time Required)')], default='received', max_length=50)),
                ('response_due_date', models.DateTimeField(help_text='Due date for response (typically 30 days)')),
                ('response_date', models.DateTimeField(blank=True, help_text='Date response was provided', null=True)),
                ('response_method', models.CharField(blank=True, choices=[('email', 'Email'), ('postal_mail', 'Postal Mail'), ('secure_portal', 'Secure Portal'), ('in_person', 'In Person')], max_length=50)),
                ('data_sources_searched', models.JSONField(default=list, help_text='List of data sources searched')),
                ('personal_data_found', models.BooleanField(default=False, help_text='Whether personal data was found')),
                ('data_categories', models.JSONField(default=list, help_text='Categories of personal data found')),
                ('processing_notes', models.TextField(blank=True, help_text='Notes on request processing')),
                ('rejection_reason', models.TextField(blank=True, help_text='Reason for rejection if applicable')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('client', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='rc_dsar_requests', to='custom_authentication.client')),
                ('compliance_run', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='dsar_requests', to='regulatory_compliance.compliancerun')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='dsar_requests', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'regulatory_compliance_dsar_request',
                'ordering': ['-request_date'],
            },
        ),
        migrations.CreateModel(
            name='RedactionTask',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('task_name', models.CharField(help_text='Name of the redaction task', max_length=255)),
                ('redaction_type', models.CharField(choices=[('pii', 'Personally Identifiable Information'), ('phi', 'Protected Health Information'), ('financial', 'Financial Information'), ('legal_privilege', 'Legally Privileged Information'), ('trade_secret', 'Trade Secrets'), ('custom', 'Custom Redaction Rules')], max_length=50)),
                ('redaction_rules', models.JSONField(default=list, help_text='Rules for what to redact')),
                ('redaction_patterns', models.JSONField(default=list, help_text='Regex patterns for redaction')),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('processing', 'Processing'), ('completed', 'Completed'), ('failed', 'Failed'), ('review_required', 'Review Required')], default='pending', max_length=50)),
                ('redaction_count', models.IntegerField(default=0, help_text='Number of redactions made')),
                ('redaction_summary', models.JSONField(default=dict, help_text='Summary of redactions by type')),
                ('qa_required', models.BooleanField(default=True, help_text='Whether QA review is required')),
                ('qa_completed', models.BooleanField(default=False, help_text='Whether QA has been completed')),
                ('qa_reviewer', models.CharField(blank=True, help_text='QA reviewer name', max_length=255)),
                ('qa_notes', models.TextField(blank=True, help_text='QA review notes')),
                ('processing_metadata', models.JSONField(blank=True, default=dict)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('client', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='rc_redaction_tasks', to='custom_authentication.client')),
                ('compliance_run', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='redaction_tasks', to='regulatory_compliance.compliancerun')),
                ('redacted_document', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='redacted_from_tasks', to='core.file')),
                ('source_document', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='redaction_tasks', to='core.file')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='redaction_tasks', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'regulatory_compliance_redaction_task',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='RegulatoryRequirement',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('requirement_id', models.CharField(help_text='Unique identifier for the requirement', max_length=100)),
                ('requirement_title', models.CharField(help_text='Title of the regulatory requirement', max_length=500)),
                ('requirement_text', models.TextField(help_text='Full text of the requirement')),
                ('category', models.CharField(choices=[('data_protection', 'Data Protection'), ('privacy_rights', 'Privacy Rights'), ('security_controls', 'Security Controls'), ('breach_notification', 'Breach Notification'), ('consent_management', 'Consent Management'), ('data_retention', 'Data Retention'), ('cross_border_transfer', 'Cross-Border Data Transfer'), ('vendor_management', 'Vendor Management'), ('audit_logging', 'Audit and Logging'), ('training_awareness', 'Training and Awareness'), ('other', 'Other')], max_length=100)),
                ('compliance_status', models.CharField(choices=[('compliant', 'Compliant'), ('non_compliant', 'Non-Compliant'), ('partially_compliant', 'Partially Compliant'), ('not_applicable', 'Not Applicable'), ('under_review', 'Under Review')], default='under_review', max_length=50)),
                ('risk_level', models.CharField(choices=[('critical', 'Critical'), ('high', 'High'), ('medium', 'Medium'), ('low', 'Low')], default='medium', max_length=20)),
                ('implementation_notes', models.TextField(blank=True, help_text='Notes on current implementation')),
                ('remediation_plan', models.TextField(blank=True, help_text='Plan for addressing non-compliance')),
                ('responsible_party', models.CharField(blank=True, help_text='Person/team responsible', max_length=255)),
                ('due_date', models.DateField(blank=True, help_text='Compliance due date', null=True)),
                ('last_reviewed', models.DateField(blank=True, help_text='Last review date', null=True)),
                ('next_review', models.DateField(blank=True, help_text='Next scheduled review', null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('client', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='rc_regulatory_requirements', to='custom_authentication.client')),
                ('compliance_run', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='regulatory_requirements', to='regulatory_compliance.compliancerun')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='regulatory_requirements', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'regulatory_compliance_requirement',
                'ordering': ['requirement_id'],
            },
        ),
        migrations.CreateModel(
            name='PolicyMapping',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('policy_name', models.CharField(help_text='Name of the policy document', max_length=255)),
                ('policy_section', models.CharField(blank=True, help_text='Specific section of the policy', max_length=255)),
                ('mapping_strength', models.CharField(choices=[('strong', 'Strong Mapping'), ('moderate', 'Moderate Mapping'), ('weak', 'Weak Mapping'), ('none', 'No Mapping')], max_length=20)),
                ('gap_analysis', models.TextField(blank=True, help_text='Analysis of gaps between policy and requirement')),
                ('recommendations', models.JSONField(default=list, help_text='Recommendations for improving compliance')),
                ('mapping_confidence', models.FloatField(blank=True, help_text='Confidence score (0.0-1.0)', null=True)),
                ('mapping_metadata', models.JSONField(blank=True, default=dict)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('client', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='rc_policy_mappings', to='custom_authentication.client')),
                ('compliance_run', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='policy_mappings', to='regulatory_compliance.compliancerun')),
                ('policy_document', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='policy_mappings', to='core.file')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='policy_mappings', to=settings.AUTH_USER_MODEL)),
                ('regulatory_requirement', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='policy_mappings', to='regulatory_compliance.regulatoryrequirement')),
            ],
            options={
                'db_table': 'regulatory_compliance_policy_mapping',
                'ordering': ['-mapping_confidence'],
            },
        ),
        migrations.CreateModel(
            name='ComplianceAlert',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('alert_type', models.CharField(choices=[('deadline_approaching', 'Compliance Deadline Approaching'), ('violation_detected', 'Potential Violation Detected'), ('policy_gap', 'Policy Gap Identified'), ('dsar_overdue', 'DSAR Response Overdue'), ('data_breach', 'Data Breach Detected'), ('consent_expired', 'Consent Expiration'), ('retention_exceeded', 'Data Retention Period Exceeded'), ('unauthorized_transfer', 'Unauthorized Data Transfer'), ('missing_dpia', 'Missing Data Protection Impact Assessment'), ('training_required', 'Compliance Training Required')], max_length=100)),
                ('alert_title', models.CharField(help_text='Title of the alert', max_length=255)),
                ('alert_description', models.TextField(help_text='Detailed description of the alert')),
                ('severity', models.CharField(choices=[('critical', 'Critical'), ('high', 'High'), ('medium', 'Medium'), ('low', 'Low')], max_length=20)),
                ('priority', models.CharField(choices=[('urgent', 'Urgent'), ('high', 'High'), ('medium', 'Medium'), ('low', 'Low')], max_length=20)),
                ('status', models.CharField(choices=[('open', 'Open'), ('in_progress', 'In Progress'), ('resolved', 'Resolved'), ('dismissed', 'Dismissed'), ('escalated', 'Escalated')], default='open', max_length=50)),
                ('assigned_to', models.CharField(blank=True, help_text='Person assigned to resolve alert', max_length=255)),
                ('resolution_notes', models.TextField(blank=True, help_text='Notes on alert resolution')),
                ('resolved_at', models.DateTimeField(blank=True, help_text='Date alert was resolved', null=True)),
                ('due_date', models.DateTimeField(blank=True, help_text='Due date for resolution', null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('client', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='rc_compliance_alerts', to='custom_authentication.client')),
                ('related_documents', models.ManyToManyField(blank=True, related_name='compliance_alerts', to='core.file')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='compliance_alerts', to=settings.AUTH_USER_MODEL)),
                ('compliance_run', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='compliance_alerts', to='regulatory_compliance.compliancerun')),
                ('related_dsar', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='alerts', to='regulatory_compliance.dsarrequest')),
                ('related_requirement', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='alerts', to='regulatory_compliance.regulatoryrequirement')),
            ],
            options={
                'db_table': 'regulatory_compliance_alert',
                'ordering': ['-severity', '-created_at'],
            },
        ),
        migrations.CreateModel(
            name='ServiceExecution',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('service_type', models.CharField(choices=[('rc-create-compliance-run', 'Create Compliance Run'), ('rc-gap-analysis', 'Compliance Gap Analysis'), ('rc-policy-mapping', 'Policy Mapping & Alignment'), ('rc-audit-trail', 'Audit Trail Generation'), ('rc-compliance-dashboard', 'Compliance Dashboard'), ('rc-regulatory-search', 'Regulatory Document Search'), ('rc-document-qa', 'Compliance Q&A System'), ('rc-structure-analysis', 'Regulatory Structure Analysis'), ('rc-file-insights', 'Compliance File Insights'), ('rc-document-anonymization', 'Compliance Anonymization'), ('rc-ocr-regulatory', 'Regulatory Filing OCR'), ('rc-project-summary', 'Compliance Project Summary'), ('rc-service-summary', 'Compliance Audit Reports'), ('rc-client-summary', 'Compliance Client Summary')], max_length=50)),
                ('service_name', models.CharField(help_text='Human-readable service name', max_length=255)),
                ('service_version', models.CharField(default='1.0', max_length=20)),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('running', 'Running'), ('completed', 'Completed'), ('failed', 'Failed'), ('cancelled', 'Cancelled')], default='pending', max_length=20)),
                ('started_at', models.DateTimeField(auto_now_add=True)),
                ('completed_at', models.DateTimeField(blank=True, null=True)),
                ('execution_time_seconds', models.IntegerField(blank=True, null=True)),
                ('input_parameters', models.JSONField(default=dict, help_text='Service input parameters')),
                ('output_type', models.CharField(choices=[('document', 'Document'), ('pdf', 'PDF'), ('text', 'Text'), ('json', 'JSON Data'), ('data', 'Data File'), ('analytics', 'Analytics'), ('report', 'Report'), ('chart', 'Chart'), ('dashboard', 'Dashboard'), ('excel', 'Excel'), ('matrix', 'Matrix'), ('package', 'Package')], default='json', max_length=20)),
                ('output_count', models.IntegerField(default=0, help_text='Number of output files generated')),
                ('error_message', models.TextField(blank=True)),
                ('error_traceback', models.TextField(blank=True)),
                ('execution_metadata', models.JSONField(default=dict, help_text='Additional execution metadata')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('client', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='rc_service_executions', to='custom_authentication.client')),
                ('compliance_run', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='service_executions', to='regulatory_compliance.compliancerun')),
                ('input_files', models.ManyToManyField(blank=True, related_name='rc_service_inputs', to='core.file')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='rc_service_executions', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'db_table': 'regulatory_compliance_service_execution',
                'ordering': ['-started_at'],
            },
        ),
        migrations.CreateModel(
            name='ServiceOutput',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('output_name', models.CharField(help_text='Name/title of the output', max_length=255)),
                ('output_type', models.CharField(choices=[('document', 'Document'), ('pdf', 'PDF'), ('text', 'Text'), ('json', 'JSON Data'), ('data', 'Data File'), ('analytics', 'Analytics'), ('report', 'Report'), ('chart', 'Chart'), ('dashboard', 'Dashboard'), ('excel', 'Excel'), ('matrix', 'Matrix'), ('package', 'Package')], max_length=20)),
                ('file_extension', models.CharField(blank=True, help_text='File extension if applicable', max_length=10)),
                ('mime_type', models.CharField(blank=True, max_length=100)),
                ('output_file', models.FileField(blank=True, null=True, upload_to='rc_service_outputs/%Y/%m/%d/')),
                ('file_size', models.BigIntegerField(blank=True, help_text='File size in bytes', null=True)),
                ('output_data', models.JSONField(blank=True, help_text='Structured data output', null=True)),
                ('output_text', models.TextField(blank=True, help_text='Text-based output')),
                ('download_url', models.URLField(blank=True, help_text='Direct download URL')),
                ('preview_url', models.URLField(blank=True, help_text='Preview URL')),
                ('output_metadata', models.JSONField(default=dict, help_text='Additional output metadata')),
                ('is_primary', models.BooleanField(default=False, help_text='Primary output for the service')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('client', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='rc_service_outputs', to='custom_authentication.client')),
                ('service_execution', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='outputs', to='regulatory_compliance.serviceexecution')),
            ],
            options={
                'db_table': 'regulatory_compliance_service_output',
                'ordering': ['-is_primary', '-created_at'],
            },
        ),
        migrations.AddIndex(
            model_name='compliancerun',
            index=models.Index(fields=['client', '-created_at'], name='regulatory__client__0c27b7_idx'),
        ),
        migrations.AddIndex(
            model_name='compliancerun',
            index=models.Index(fields=['client', 'compliance_framework'], name='regulatory__client__09956b_idx'),
        ),
        migrations.AddIndex(
            model_name='datainventory',
            index=models.Index(fields=['client', 'activity_name'], name='regulatory__client__854702_idx'),
        ),
        migrations.AddIndex(
            model_name='datainventory',
            index=models.Index(fields=['client', 'legal_basis'], name='regulatory__client__67a6df_idx'),
        ),
        migrations.AddIndex(
            model_name='dsarrequest',
            index=models.Index(fields=['client', '-request_date'], name='regulatory__client__ff2556_idx'),
        ),
        migrations.AddIndex(
            model_name='dsarrequest',
            index=models.Index(fields=['client', 'request_type'], name='regulatory__client__aa41ec_idx'),
        ),
        migrations.AddIndex(
            model_name='dsarrequest',
            index=models.Index(fields=['client', 'status'], name='regulatory__client__f5fa73_idx'),
        ),
        migrations.AddIndex(
            model_name='redactiontask',
            index=models.Index(fields=['client', '-created_at'], name='regulatory__client__79c8f7_idx'),
        ),
        migrations.AddIndex(
            model_name='redactiontask',
            index=models.Index(fields=['client', 'status'], name='regulatory__client__c87814_idx'),
        ),
        migrations.AddIndex(
            model_name='regulatoryrequirement',
            index=models.Index(fields=['client', 'requirement_id'], name='regulatory__client__1a96d0_idx'),
        ),
        migrations.AddIndex(
            model_name='regulatoryrequirement',
            index=models.Index(fields=['client', 'category'], name='regulatory__client__08683e_idx'),
        ),
        migrations.AddIndex(
            model_name='regulatoryrequirement',
            index=models.Index(fields=['client', 'compliance_status'], name='regulatory__client__bf8eaa_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='regulatoryrequirement',
            unique_together={('compliance_run', 'requirement_id')},
        ),
        migrations.AddIndex(
            model_name='policymapping',
            index=models.Index(fields=['client', '-mapping_confidence'], name='regulatory__client__0a184c_idx'),
        ),
        migrations.AddIndex(
            model_name='policymapping',
            index=models.Index(fields=['client', 'mapping_strength'], name='regulatory__client__0382f2_idx'),
        ),
        migrations.AddIndex(
            model_name='compliancealert',
            index=models.Index(fields=['client', '-severity', '-created_at'], name='regulatory__client__d1c629_idx'),
        ),
        migrations.AddIndex(
            model_name='compliancealert',
            index=models.Index(fields=['client', 'alert_type'], name='regulatory__client__bc362f_idx'),
        ),
        migrations.AddIndex(
            model_name='compliancealert',
            index=models.Index(fields=['client', 'status'], name='regulatory__client__52e904_idx'),
        ),
        migrations.AddIndex(
            model_name='serviceexecution',
            index=models.Index(fields=['user', 'service_type'], name='regulatory__user_id_6f1c64_idx'),
        ),
        migrations.AddIndex(
            model_name='serviceexecution',
            index=models.Index(fields=['compliance_run', 'status'], name='regulatory__complia_29deca_idx'),
        ),
        migrations.AddIndex(
            model_name='serviceexecution',
            index=models.Index(fields=['started_at'], name='regulatory__started_7d3057_idx'),
        ),
        migrations.AddIndex(
            model_name='serviceoutput',
            index=models.Index(fields=['service_execution', 'output_type'], name='regulatory__service_07aafb_idx'),
        ),
        migrations.AddIndex(
            model_name='serviceoutput',
            index=models.Index(fields=['created_at'], name='regulatory__created_95d2ca_idx'),
        ),
    ]
